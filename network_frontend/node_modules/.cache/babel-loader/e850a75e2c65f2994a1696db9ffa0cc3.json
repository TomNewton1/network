{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { useRef, useEffect } from 'react';\nimport useComposedRef from 'use-composed-ref';\nimport invariant from 'tiny-invariant';\n\nvar castArray = function castArray(value) {\n  return Array.isArray(value) ? value : [value];\n};\n\nvar useOuterClick = function useOuterClick(refs, handler) {\n  !(Array.isArray(refs) || typeof refs === 'object' && refs !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected `refs` to be an array or object') : invariant(false) : void 0;\n\n  if (Array.isArray(refs)) {\n    !(refs.length > 0) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected `refs` to to not be empty') : invariant(false) : void 0;\n    refs.forEach(function (ref, i) {\n      !(typeof ref === 'object' && ref !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Expected `refs[\" + i + \"]` to be an object\") : invariant(false) : void 0;\n    });\n  }\n\n  !(typeof handler === 'function' || handler == null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected `handler` to be a function') : invariant(false) : void 0;\n  var eventListenerRef = useRef();\n  useEffect(function () {\n    eventListenerRef.current = function (event) {\n      if (castArray(refs).every(function (ref) {\n        return !ref.current || ref.current !== event.target && !ref.current.contains(event.target);\n      })) {\n        handler == null ? void 0 : handler(event);\n      }\n    };\n  }, [handler, refs]);\n  useEffect(function () {\n    var eventListener = function eventListener(event) {\n      eventListenerRef.current(event);\n    };\n\n    ['mousedown', 'touchstart'].forEach(function (type) {\n      document.addEventListener(type, eventListener, true);\n    });\n    return function () {\n      ['mousedown', 'touchstart'].forEach(function (type) {\n        document.removeEventListener(type, eventListener, true);\n      });\n    };\n  }, []);\n};\n\nvar OuterClick = /*#__PURE__*/React.forwardRef(function OuterClick(_ref, userRef) {\n  var _ref$as = _ref.as,\n      Element = _ref$as === void 0 ? 'div' : _ref$as,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? null : _ref$children,\n      _ref$onOuterClick = _ref.onOuterClick,\n      onOuterClick = _ref$onOuterClick === void 0 ? null : _ref$onOuterClick,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"as\", \"children\", \"onOuterClick\"]);\n\n  var libRef = useRef();\n  var ref = useComposedRef(libRef, userRef);\n  useOuterClick(libRef, onOuterClick);\n  return /*#__PURE__*/React.createElement(Element, _extends({}, rest, {\n    ref: ref\n  }), children);\n});\nOuterClick.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  as: PropTypes.elementType,\n  children: PropTypes.node,\n  onOuterClick: PropTypes.func\n} : {};\nexport { OuterClick, useOuterClick };","map":{"version":3,"sources":["../src/castArray.js","../src/useOuterClick.js","../src/OuterClick.js"],"names":["castArray","Array","useOuterClick","refs","ref","handler","eventListenerRef","useRef","useEffect","event","eventListener","document","OuterClick","as","Element","children","onOuterClick","rest","libRef","useComposedRef","PropTypes","func"],"mappings":";;;;;;;;AAAA,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAAA,KAAA,EAAA;AAAA,SAAYC,KAAK,CAALA,OAAAA,CAAAA,KAAAA,IAAAA,KAAAA,GAA+B,CAA3C,KAA2C,CAA3C;AAAlB,CAAA;;ICIMC,aAAa,GAAG,SAAhBA,aAAgB,CAAA,IAAA,EAAA,OAAA,EAAmB;AACvC,IACED,KAAK,CAALA,OAAAA,CAAAA,IAAAA,KAAwB,OAAA,IAAA,KAAA,QAAA,IAA4BE,IAAI,KAD1D,IAAA,IAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA,SAAS,CAAA,KAAA,EAAT,0CAAS,CAAT,GAAA,SAAS,CAAT,KAAS,CAAT,GAAA,KAAA,CAAA;;AAIA,MAAIF,KAAK,CAALA,OAAAA,CAAJ,IAAIA,CAAJ,EAAyB;AACvB,MAAUE,IAAI,CAAJA,MAAAA,GAAV,CAAA,IAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA,SAAS,CAAA,KAAA,EAAT,oCAAS,CAAT,GAAA,SAAS,CAAT,KAAS,CAAT,GAAA,KAAA,CAAA;AACAA,IAAAA,IAAI,CAAJA,OAAAA,CAAa,UAAA,GAAA,EAAA,CAAA,EAAY;AACvB,QACE,OAAA,GAAA,KAAA,QAAA,IAA2BC,GAAG,KADhC,IAAA,IAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA,SAAS,CAAA,KAAA,EAAA,oBAAA,CAAA,GAAT,oBAAS,CAAT,GAAA,SAAS,CAAT,KAAS,CAAT,GAAA,KAAA,CAAA;AADFD,KAAAA;AAMD;;AACD,IACE,OAAA,OAAA,KAAA,UAAA,IAAiCE,OAAO,IAD1C,IAAA,IAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA,SAAS,CAAA,KAAA,EAAT,qCAAS,CAAT,GAAA,SAAS,CAAT,KAAS,CAAT,GAAA,KAAA,CAAA;AAKA,MAAMC,gBAAgB,GAAGC,MAAzB,EAAA;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACdF,IAAAA,gBAAgB,CAAhBA,OAAAA,GAA2B,UAAA,KAAA,EAAW;AACpC,UACE,SAAS,CAAT,IAAS,CAAT,CAAA,KAAA,CACE,UAAA,GAAA,EAAA;AAAA,eACE,CAACF,GAAG,CAAJ,OAAA,IACCA,GAAG,CAAHA,OAAAA,KAAgBK,KAAK,CAArBL,MAAAA,IACC,CAACA,GAAG,CAAHA,OAAAA,CAAAA,QAAAA,CAAqBK,KAAK,CAH/B,MAGKL,CAHL;AAFJ,OACE,CADF,EAOE;AACAC,QAAAA,OAAO,IAAPA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,OAAO,CAAPA,KAAO,CAAPA;AACD;AAVHC,KAAAA;AADO,GAAA,EAaN,CAAA,OAAA,EAbHE,IAaG,CAbM,CAATA;AAeAA,EAAAA,SAAS,CAAC,YAAM;AACd,QAAME,aAAa,GAAG,SAAhBA,aAAgB,CAAA,KAAA,EAAW;AAC/BJ,MAAAA,gBAAgB,CAAhBA,OAAAA,CAAAA,KAAAA;AADF,KAAA;;AAGA,KAAA,WAAA,EAAA,YAAA,EAAA,OAAA,CAAoC,UAAA,IAAA,EAAU;AAC5CK,MAAAA,QAAQ,CAARA,gBAAAA,CAAAA,IAAAA,EAAAA,aAAAA,EAAAA,IAAAA;AADF,KAAA;AAGA,WAAO,YAAM;AACX,OAAA,WAAA,EAAA,YAAA,EAAA,OAAA,CAAoC,UAAA,IAAA,EAAU;AAC5CA,QAAAA,QAAQ,CAARA,mBAAAA,CAAAA,IAAAA,EAAAA,aAAAA,EAAAA,IAAAA;AADF,OAAA;AADF,KAAA;AAPO,GAAA,EAATH,EAAS,CAATA;AAaD,C;;IC/CKI,UAAU,GAAA,aAAG,KAAK,CAAL,UAAA,CAAiB,SAAA,UAAA,CAAA,IAAA,EAAA,OAAA,EAGlC;AAAA,MAAA,OAAA,GAAA,IAAA,CAFEC,EAEF;AAAA,MAFMC,OAEN,GAAA,OAAA,KAAA,KAAA,CAAA,GAFgB,KAEhB,GAAA,OAAA;AAAA,MAAA,aAAA,GAAA,IAAA,CAFuBC,QAEvB;AAAA,MAFuBA,QAEvB,GAAA,aAAA,KAAA,KAAA,CAAA,GAFkC,IAElC,GAAA,aAAA;AAAA,MAAA,iBAAA,GAAA,IAAA,CAFwCC,YAExC;AAAA,MAFwCA,YAExC,GAAA,iBAAA,KAAA,KAAA,CAAA,GAFuD,IAEvD,GAAA,iBAAA;AAAA,MAFgEC,IAEhE,GAAA,6BAAA,CAAA,IAAA,EAAA,CAAA,IAAA,EAAA,UAAA,EAAA,cAAA,CAAA,CAAA;;AACA,MAAMC,MAAM,GAAGX,MAAf,EAAA;AACA,MAAMH,GAAG,GAAGe,cAAc,CAAA,MAAA,EAA1B,OAA0B,CAA1B;AACAjB,EAAAA,aAAa,CAAA,MAAA,EAAbA,YAAa,CAAbA;AACA,SAAA,aACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,QAAA,CAAA,EAAA,EAAA,IAAA,EAAA;AAAmB,IAAA,GAAG,EAAEE;AAAxB,GAAA,CAAA,EADF,QACE,CADF;AAPiB,CAAA,C;AAcnBQ,UAAU,CAAVA,SAAAA,GAAAA,OAAAA,CAAAA,GAAAA,CAAAA,QAAAA,KAAAA,YAAAA,GAAuB;AACrBC,EAAAA,EAAE,EAAEO,SAAS,CADQ,WAAA;AAErBL,EAAAA,QAAQ,EAAEK,SAAS,CAFE,IAAA;AAGrBJ,EAAAA,YAAY,EAAEI,SAAS,CAACC;AAHH,CAAvBT,GAAAA,EAAAA","sourcesContent":["const castArray = (value) => (Array.isArray(value) ? value : [value]);\n\nexport default castArray;\n","import { useEffect, useRef } from 'react';\nimport invariant from 'tiny-invariant';\nimport castArray from './castArray';\n\nconst useOuterClick = (refs, handler) => {\n  invariant(\n    Array.isArray(refs) || (typeof refs === 'object' && refs !== null),\n    'Expected `refs` to be an array or object'\n  );\n  if (Array.isArray(refs)) {\n    invariant(refs.length > 0, 'Expected `refs` to to not be empty');\n    refs.forEach((ref, i) => {\n      invariant(\n        typeof ref === 'object' && ref !== null,\n        `Expected \\`refs[${i}]\\` to be an object`\n      );\n    });\n  }\n  invariant(\n    typeof handler === 'function' || handler == null,\n    'Expected `handler` to be a function'\n  );\n\n  const eventListenerRef = useRef();\n\n  useEffect(() => {\n    eventListenerRef.current = (event) => {\n      if (\n        castArray(refs).every(\n          (ref) =>\n            !ref.current ||\n            (ref.current !== event.target &&\n              !ref.current.contains(event.target))\n        )\n      ) {\n        handler?.(event);\n      }\n    };\n  }, [handler, refs]);\n\n  useEffect(() => {\n    const eventListener = (event) => {\n      eventListenerRef.current(event);\n    };\n    ['mousedown', 'touchstart'].forEach((type) => {\n      document.addEventListener(type, eventListener, true);\n    });\n    return () => {\n      ['mousedown', 'touchstart'].forEach((type) => {\n        document.removeEventListener(type, eventListener, true);\n      });\n    };\n  }, []);\n};\n\nexport default useOuterClick;\n","import PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport useComposedRef from 'use-composed-ref';\nimport useOuterClick from './useOuterClick';\n\nconst OuterClick = React.forwardRef(function OuterClick(\n  { as: Element = 'div', children = null, onOuterClick = null, ...rest },\n  userRef\n) {\n  const libRef = useRef();\n  const ref = useComposedRef(libRef, userRef);\n  useOuterClick(libRef, onOuterClick);\n  return (\n    <Element {...rest} ref={ref}>\n      {children}\n    </Element>\n  );\n});\n\nOuterClick.propTypes = {\n  as: PropTypes.elementType,\n  children: PropTypes.node,\n  onOuterClick: PropTypes.func,\n};\n\nexport default OuterClick;\n"]},"metadata":{},"sourceType":"module"}